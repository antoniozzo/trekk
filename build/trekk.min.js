!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("trekk",[],t):"object"==typeof exports?exports.trekk=t():e.trekk=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="build/",t(t.s=11)}([function(e,t,n){"use strict";function r(e,t){return e<t}function o(e,t){return e>t}function u(e,t,n){return e>=t&&e<=n}function i(e,t,n,r){var o=e*(1-n)+t*n;return r?Math.round(o):o}function s(e){return Object.keys(e).map(function(t){return e[t]})}function a(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=e.classList).remove.apply(t,r)}function f(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=e.classList).add.apply(t,r)}function l(e){var t=e,n=0;do n+=t.offsetTop||0,t=t.offsetParent;while(t);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.isLesserThan=r,t.isGreaterThan=o,t.isInBetween=u,t.lerp=i,t.objectToArray=s,t.removeClassesFromElement=a,t.addClassesToElement=f,t.getElementTop=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_ARRAY=t.STATUS=void 0;var r=n(0),o=t.STATUS={LOADING:"loading",WAITING:"waiting",WALKING:"walking",FINISHED:"finished"};t.STATUS_ARRAY=(0,r.objectToArray)(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.broadcast=function(e){var t=e.listeners,n=e.prevState,r=e.nextState;n.progress!==r.progress&&t.progress.forEach(function(e){return e(r.progress)}),n.status!==r.status&&t[r.status].forEach(function(e){return e()})},o=t.update=function(e,t){var n=e.listeners,o=e.store,u=(e.options,o.getState()),i=o.reduce(t);return r({listeners:n,prevState:u,nextState:i}),i};t.default=function(e,t){var n=function n(){var r=t.source();e.forEach(function(e){return o(e,r)}),t.iterate(n)};t.iterate(n)}},function(e,t,n){"use strict";function r(e){var t=document.createElement("div"),n=document.createElement("span"),r=document.createElement("div");return t.style.zIndex=999,t.style.width="100%",t.style.position="absolute",t.style.top=e+"px",t.style.left=0,n.style.borderWidth=0,n.style.borderStyle="dashed",n.style.position="absolute",n.style.padding="2px 5px",document.body.appendChild(t),{remove:function(){return document.body.removeChild(t),this},color:function(e){return r.style.borderLeftColor=e,n.style.color=e,n.style.borderColor=e,this},fixed:function(){return t.style.position="fixed",this},label:function(e,r){return n.innerHTML=e,t.appendChild(n),r?(n.style.bottom=0,n.style.borderBottomWidth="1px"):(n.style.top=0,n.style.borderTopWidth="1px"),this},col:function(e){return t.style.left=20*e+"px",this},width:function(e){return n.style.width=e,this},line:function(e){return r.style.borderLeft="1px dashed green",r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="1px",r.style.height=e+"px",t.appendChild(r),this}}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeGuide=r,t.default=function(e,t){var n=[],o=function(){n.forEach(function(e){return e.remove()}),n=[],e.forEach(function(e){var t=e.options.start()+e.options.offset(),o=e.options.start()+e.options.length()-e.options.offset();n.push(r(t).color(e.options.color).label(e.options.label)),n.push(r(o).color(e.options.color).label(e.options.label,!0))}),n.push(r(t.source()).color("red").width("100%").label("").fixed())};window.addEventListener("resize",o),o()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addStatusClassNameToElement=t.defaultModifier=t.defaultOffset=t.defaultLength=t.defaultStart=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),a=n(0),f=n(8),l=r(f),c=n(9),d=r(c),p=n(7),v=r(p),h=n(2),m=r(h),T=t.defaultStart=function(){return 0},y=t.defaultLength=function(){return 0},g=t.defaultOffset=function(){return 0},S=t.defaultModifier=function(e,t,n){var r=(e-t)/n;return r>=1?1:r<=0?0:r},b=t.addStatusClassNameToElement=function(e,t){return function(){a.removeClassesFromElement.apply(void 0,[e].concat(u(s.STATUS_ARRAY))),(0,a.addClassesToElement)(e,t)}},A=function(e){return function(t){var n,r=i({color:"green",label:"Undefined",start:T,length:y,offset:g,modifier:S,lerp:1},t,{ease:t.ease&&m.default[t.ease]||t.ease||m.default.linear}),u=(n={},o(n,s.STATUS.LOADING,[]),o(n,s.STATUS.WAITING,[]),o(n,s.STATUS.WALKING,[]),o(n,s.STATUS.FINISHED,[]),o(n,"progress",[]),n),a=(0,v.default)(function(){return r.start()+r.offset()}),f=(0,v.default)(function(){return r.length()-2*r.offset()}),c=function(e,t){return h.listeners[e].push(t),h},p=function(e,t){var n=h.listeners[e].indexOf(t);return n!==-1&&h.listeners[e].splice(n,1),h},h={options:r,listeners:u,start:a,length:f,on:c,off:p};return h.store=(0,d.default)((0,l.default)(h)),e.push(h),h}},x=function(e){return function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}},I=function(e){return function(t,n){return e(i({start:function(){return(0,a.getElementTop)(t)},length:function(){return t.offsetHeight}},n)).on(s.STATUS.LOADING,b(t,s.STATUS.LOADING)).on(s.STATUS.WAITING,b(t,s.STATUS.WAITING)).on(s.STATUS.WALKING,b(t,s.STATUS.WALKING)).on(s.STATUS.FINISHED,b(t,s.STATUS.FINISHED))}},O=function(e){return function(t,n,r){return e(i({start:function(){return t},length:function(){return n}},r))}},w=function(e){return function(t,n,r,o){return e(i({start:function(){return t.start()+t.length()*n},length:function(){return t.length()*r}},o))}};t.default=function(e){var t=A(e);return{addTimeline:t,fromPixels:O(t),fromElement:I(t),fromPercentage:w(t),removeTimeline:x(e)}}},function(e,t,n){for(var r=n(10),o="undefined"==typeof window?global:window,u=["moz","webkit"],i="AnimationFrame",s=o["request"+i],a=o["cancel"+i]||o["cancelRequest"+i],f=0;!s&&f<u.length;f++)s=o[u[f]+"Request"+i],a=o[u[f]+"Cancel"+i]||o[u[f]+"CancelRequest"+i];if(!s||!a){var l=0,c=0,d=[],p=1e3/60;s=function(e){if(0===d.length){var t=r(),n=Math.max(0,p-(t-l));l=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++c,callback:e,cancelled:!1}),c},a=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){a.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(e){var t=void 0,n=void 0;return function(){return n!==r&&(n=r,t=e()),t}},"undefined"!=typeof window&&window.addEventListener("resize",function(){r++}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextStatus=t.nextProgress=void 0;var r=n(1),o=n(0),u=t.nextProgress=function(e,t,n){var r=e.options,u=e.start,i=e.length,s=r.ease(r.modifier(n,u(),i()));return r.lerp&&t.progress.toFixed(3)!==s.toFixed(3)&&(s=(0,o.lerp)(t.progress,s,r.lerp)),s},i=t.nextStatus=function(e,t){var n=e.start,u=e.length;return(0,o.isLesserThan)(t,n())?r.STATUS.WAITING:(0,o.isInBetween)(t,n(),n()+u())?r.STATUS.WALKING:(0,o.isGreaterThan)(t,n()+u())?r.STATUS.FINISHED:r.STATUS.LOADING},s={status:r.STATUS.LOADING,progress:-1};t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments[1];return n?{status:i(e,n),progress:u(e,t,n)}:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e();return{getState:function(){return t},reduce:function(n){return t=e(t,n)}}},e.exports=t.default},function(e,t){(function(){var t,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-r)/1e6},n=process.hrtime,t=function(){var e;return e=n(),1e9*e[0]+e[1]},r=t()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fromPixels=t.fromPercentage=t.fromElement=t.addTimeline=t.easings=t.utilities=t.constants=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(6),s=o(i),a=n(5),f=o(a),l=n(4),c=o(l),d=n(3),p=o(d),v=n(1),h=r(v),m=n(0),T=r(m),y=n(2),g=r(y);t.constants=h,t.utilities=T,t.easings=g;var S=[],b=(0,f.default)(S),A=b.addTimeline,x=b.fromElement,I=b.fromPercentage,O=b.fromPixels;t.addTimeline=A,t.fromElement=x,t.fromPercentage=I,t.fromPixels=O;var w={source:function(){return(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight/2},iterate:s.default,debug:!1};t.default=function(e){var t=u({},w,e);return t.debug&&(0,c.default)(S,t),(0,p.default)(S,t)}}])});